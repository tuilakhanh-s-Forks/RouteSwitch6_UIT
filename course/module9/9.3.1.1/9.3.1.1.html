<!DOCTYPE html>
<html class="loading" dir="ltr" lang="en"  role="main">
  <head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>9.3.1.1 The show ip nat Commands</title>
    <!-- Content -->
    <link rel="stylesheet" type="text/css" href="../../common-ext/styles/page.css"/>
    <script type="text/javascript" src="../../common-ext/scripts/jquery-2.1.0.min.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/permission.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/page.js"></script>
    <script type="text/javascript" src="media/override.js"></script>
    <script>
      var media_transcript_file = "media_9.3.1.1_longdesc.txt";
    </script>
  </head>
  <body>
    <div id="text-container" role="main">
      <div id="text">
        <h1>The show ip nat Commands</h1>
        <div>
          <p>Figure 1 shows R2 enabled for PAT, using the range of addresses 209.165.200.226 to 209.165.200.240. </p>
          <p></p>
          <p>When there are IPv4 connectivity problems in a NAT environment, it is often difficult to determine the cause of the problem. The first step in solving the problem is to rule out NAT as the cause. Follow these steps to verify that NAT is operating as expected:</p>
          <p></p>
          <p>
            <b>Step 1.</b> Based on the configuration, clearly define what NAT is supposed to achieve. This may reveal a problem with the configuration.</p>
          <p></p>
          <p>
            <b>Step 2.</b> Verify that correct translations exist in the translation table using the <b>show ip nat translations</b> command.</p>
          <p></p>
          <p>
            <b>Step 3.</b> Use the <b>clear</b> and <b>debug</b> commands to verify that NAT is operating as expected. Check to see if dynamic entries are recreated after they are cleared.</p>
          <p></p>
          <p>
            <b>Step 4.</b> Review in detail what is happening to the packet, and verify that routers have the correct routing information to move the packet.</p>
          <p></p>
          <p></p>
          <p>Figure 2 shows the output of the <b>show ip nat statistics</b> and <b>show ip nat translations</b> commands. Prior to using the<b> show </b>commands, the NAT statistics and entries in the NAT table are cleared with the <b>clear ip nat statistics</b> and <b>clear ip nat translation * </b>commands. After the host at 192.168.10.10 telnets to the server at 209.165.201.1, the NAT statistics and NAT table are displayed to verify NAT is working as expected. </p>
          <p></p>
          <p>In a simple network environment, it is useful to monitor NAT statistics with the <b>show ip nat statistics</b> command. The <b>show ip nat statistics</b> command displays information about the total number of active translations, NAT configuration parameters, the number of addresses in the pool, and the number that have been allocated. However, in a more complex NAT environment, with several translations taking place, this command may not clearly identify the issue. It may be necessary to run <b>debug</b> commands on the router.</p>
        </div>
      </div>
      <button id="text-handle" title="Resize" role="button"></button>
    </div>
    <div id="media-container" role="complementary">
      <iframe id="media" title="interactive graphic" aria-label="interactive graphic" aria-describedby="media-description"></iframe>
      <div id="media-description">Figure one shows router 2 with an inside network on the left and an outside network on the right. The inside network contains 2 computers and router one. The outside network contains two servers.  Router two is using pat.  Figure two shows the output from several commands.  First, the "clear i. p. nat statistics" command, then the "clear i. p. nat translations star" command.  Now a host telnets to a server and the "show i. p. nat statistics" command is displayed and then the "show i. p. nat translations" command.</div>
    </div>
    <div id="login">Please log into <a href="http://netacad.com">netacad.com</a> before accessing this course.</div>
  </body>
</html>
