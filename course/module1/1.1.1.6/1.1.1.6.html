<!DOCTYPE html>
<html class="loading" dir="ltr" lang="en">
  <head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>1.1.1.6 Packet Forwarding Mechanisms</title>
    <!-- Content -->
    <link rel="stylesheet" type="text/css" href="../../common-ext/styles/page.css"/>
    <script type="text/javascript" src="../../common-ext/scripts/jquery-2.1.0.min.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/permission.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/page.js"></script>
    <script type="text/javascript" src="media/override.js"></script>
    <script>
      var media_transcript_file = "media_1.1.1.6_longdesc.txt";
    </script>
  </head>
  <body>
    <div id="text-container" role="main">
      <div id="text">
        <h1>Packet Forwarding Mechanisms</h1>
        <div>
          <p>Routers support three packet-forwarding mechanisms:</p>
          <p>
            <ul>
              <li>
                <b>Process switching </b>- An older packet forwarding mechanism still available for Cisco routers. When a packet arrives on an interface, it is forwarded to the control plane where the CPU matches the destination address with an entry in its routing table, and then determines the exit interface and forwards the packet. It is important to understand that the router does this for every packet, even if the destination is the same for a stream of packets. This process-switching mechanism is very slow and rarely implemented in modern networks.</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>
                <b>Fast switching </b>- This is a common packet forwarding mechanism which uses a fast-switching cache to store next-hop information. When a packet arrives on an interface, it is forwarded to the control plane where the CPU searches for a match in the fast-switching cache. If it is not there, it is process-switched and forwarded to the exit interface. The flow information for the packet is also stored in the fast-switching cache. If another packet going to the same destination arrives on an interface, the next-hop information in the cache is re-used without CPU intervention. </li>
            </ul>
          </p>
          <p>
            <ul>
              <li>
                <b>Cisco Express Forwarding (CEF) </b>- CEF is the most recent and preferred Cisco IOS packet-forwarding mechanism. Like fast switching, CEF builds a Forwarding Information Base (FIB), and an adjacency table. However, the table entries are not packet-triggered like fast switching but change-triggered such as when something changes in the network topology. Therefore, when a network has converged, the FIB and adjacency tables contain all the information a router would have to consider when forwarding a packet. The FIB contains pre-computed reverse lookups, next hop information for routes including the interface and Layer 2 information. Cisco Express Forwarding is the fastest forwarding mechanism and the preferred choice on Cisco routers. </li>
            </ul>
          </p>
          <p></p>
          <p>Figures 1 to 3 illustrate the differences between the three packet-forwarding mechanisms.  Assume that a traffic flow consisting of five packets are all going to the same destination. As shown in Figure 1, with process switching, each packet must be processed by the CPU individually. Contrast this with fast switching, as shown in Figure 2. With fast switching, notice how only the first packet of a flow is process-switched and added to the fast-switching cache. The next four packets are quickly processed based on the information in the fast-switching cache. Finally, in Figure 3, CEF builds the FIB and adjacency tables, after the network has converged. All five packets are quickly processed in the data plane.</p>
          <p></p>
          <p>A common analogy used to describe the three packet-forwarding mechanisms is as follows:</p>
          <p>
            <ul>
              <li>Process switching solves a problem by doing math long hand, even if it is the identical problem. </li>
            </ul>
          </p>
          <p>
            <ul>
              <li>Fast switching solves a problem by doing math long hand one time and remembering the answer for subsequent identical problems.</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>CEF solves every possible problem ahead of time in a spreadsheet.</li>
            </ul>
          </p>
        </div>
      </div>
      <div id="text-handle" title="Resize" role="button"></div>
    </div>
    <div id="media-container" role="complementary">
      <iframe id="media" title="interactive graphic" aria-label="interactive graphic" aria-describedby="media-description"></iframe>
      <div id="media-description">Figure one depicts process switching, in which an incoming packet is sent to the control plane and the destination address is read and sent to the appropriate interface.  In this method, each packet must be processed by the C.P.U. Figure two depicts fast switching, in which a fast forward cache is used to make the routing process more efficient when it is determined that a packet can be routed based on the information in the cache.  If the cache doesnâ€™t have the needed information then the packet is sent to the control plane. Figure three depicts the Cisco Express Forwarding process where the router builds a Forwarding Information Base and an adjacency table, and the router uses these to route the packets.</div>
    </div>
    <div id="login">Please log into <a href="http://netacad.com">netacad.com</a> before accessing this course.</div>
  </body>
</html>
