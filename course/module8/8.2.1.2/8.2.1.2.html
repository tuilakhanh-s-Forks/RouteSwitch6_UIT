<!DOCTYPE html>
<html class="loading" dir="ltr" lang="en">
  <head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>8.2.1.2 SLAAC Operation</title>
    <!-- Content -->
    <link rel="stylesheet" type="text/css" href="../../common-ext/styles/page.css"/>
    <script type="text/javascript" src="../../common-ext/scripts/jquery-2.1.0.min.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/permission.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/page.js"></script>
    <script type="text/javascript" src="media/override.js"></script>
    <script>
      var media_transcript_file = "media_8.2.1.2_longdesc.txt";
    </script>
  </head>
  <body>
    <div id="text-container" role="main">
      <div id="text">
        <h1>SLAAC Operation</h1>
        <div>
          <p>A router must have IPv6 routing enabled  before it can send RA messages:</p>
          <p></p>
          <p>
            <span class="cmd">Router(config)# </span>
            <span class="cmd">
              <b>ipv6 unicast-routing</b>
            </span>
          </p>
          <p></p>
          <p>1. In the example topology shown in Figure 1, PC1 is configured to obtain IPv6 address information automatically. Since booting, PC1 has not received an RA message, so it sends an RS message to the all-routers multicast address to inform the local IPv6 router that it needs an RA.</p>
          <p></p>
          <p>2. As shown in Figure 2, R1 receives the RS message and responds with an RA message. Included in the RA message are the prefix and prefix length of the network. The RA message is sent to the IPv6 all-nodes multicast address FF02::1, with the link-local address of the router as the IPv6 source address. </p>
          <p></p>
          <p>3. PC1 receives the RA message containing the prefix and prefix length for the local network. PC1 will use this information to create its own IPv6 global unicast address. PC1 now has a 64-bit network prefix, but needs a 64-bit Interface ID (IID) to create a global unicast address. </p>
          <p></p>
          <p>There are two ways PC1 can create its own unique IID:</p>
          <p>
            <ul>
              <li>
                <b>EUI-64 </b>- Using the EUI-64 process, PC1 will create an IID using its 48-bit MAC address.</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>
                <b>Randomly generated </b>- The 64-bit IID can be a random number generated by the client operating system. </li>
            </ul>
          </p>
          <p></p>
          <p>As shown in Figure 3, PC1 can create a 128-bit IPv6 global unicast address by combining the 64-bit prefix with the 64-bit IID. PC1 will use the link-local address of the router as its IPv6 default gateway address.</p>
          <p></p>
          <p>4. Because SLAAC is a stateless process, PC1 must verify that this newly created IPv6 address is unique before it can be used. As shown in Figure 4, PC1 sends an ICMPv6 Neighbor Solicitation message with a specially constructed multicast address, called a solicited-node multicast address, which duplicates the last 24 bits of PC1â€™s IPv6 address. If no other devices respond with a Neighbor Advertisement message, then the address is virtually guaranteed to be unique and can be used by PC1. If a Neighbor Advertisement is received by PC1 then the address is not unique and the operating system has to determine a new Interface ID to use. </p>
          <p></p>
          <p>This process is part of ICMPv6 Neighbor Discovery and is known as Duplicate Address Detection (DAD).</p>
        </div>
      </div>
      <div id="text-handle" title="Resize" role="button"></div>
    </div>
    <div id="media-container" role="complementary">
      <iframe id="media" title="interactive graphic" aria-label="interactive graphic" aria-describedby="media-description"></iframe>
      <div id="media-description">Figure one shows the same topology as the previous page. The computer is sending out the i.p.v.6. router solicitation message, which is an all routers multicast message. Figure two shows the router receives this message and responds with a router advertisement message. This message is an i.p.v.6. all nodes multicast message, and contains the prefix, prefix length, and other information for the client. Figure three shows the client creating an i.p.v.6. global unicast address by generating an interface i.d. and using the prefix and prefix length sent by the router. Figure four shows the computer sending out a duplicate address detection message after configuring its i.p.v.6. address.</div>
    </div>
    <div id="login">Please log into <a href="http://netacad.com">netacad.com</a> before accessing this course.</div>
  </body>
</html>
