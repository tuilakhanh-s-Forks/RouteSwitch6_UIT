<!DOCTYPE html>
<html class="loading" dir="ltr" lang="en"  role="main">
  <head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>3.3.3.1 Route Lookup Process</title>
    <!-- Content -->
    <link rel="stylesheet" type="text/css" href="../../common-ext/styles/page.css"/>
    <script type="text/javascript" src="../../common-ext/scripts/jquery-2.1.0.min.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/permission.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/page.js"></script>
    <script type="text/javascript" src="media/override.js"></script>
    <script>
      var media_transcript_file = "media_3.3.3.1_longdesc.txt";
    </script>
  </head>
  <body>
    <div id="text-container" role="main">
      <div id="text">
        <h1>Route Lookup Process</h1>
        <div>
          <p>When a packet arrives on a router interface, the router examines the IPv4 header, identifies the destination IPv4 address, and proceeds through the router lookup process.</p>
          <p></p>
          <p>In Figure 1, the router examines level 1 network routes for the best match with the destination address of the IPv4 packet:</p>
          <p>1. If the best match is a level 1 ultimate route, then this route is used to forward the packet.</p>
          <p>2. If the best match is a level 1 parent route, proceed to the next step.</p>
          <p></p>
          <p>In Figure 2, the router examines child routes (the subnet routes) of the parent route for a best match:</p>
          <p>3. If there is a match with a level 2 child route, that subnet is used to forward the packet.</p>
          <p>4. If there is not a match with any of the level 2 child routes, proceed to the next step.</p>
          <p></p>
          <p>In Figure 3, the router continues searching level 1 supernet routes in the routing table for a match, including the default route, if there is one:</p>
          <p>5. If there is now a lesser match with a level 1 supernet or default routes, the router uses that route to forward the packet.</p>
          <p>6. If there is not a match with any route in the routing table, the router drops the packet.</p>
          <p></p>
          <p>
            <b>Note</b>: A route referencing only a next-hop IP address and not an exit interface, must be resolved to a route with an exit interface, if Cisco Express Forwarding (CEF) is not being used. Without CEF, a recursive lookup is performed on the next-hop IP address until the route is resolved to an exit interface. CEF is enabled by default.</p>
        </div>
      </div>
      <button id="text-handle" title="Resize" role="button"></button>
    </div>
    <div id="media-container" role="complementary">
      <iframe id="media" title="interactive graphic" aria-label="interactive graphic" aria-describedby="media-description"></iframe>
      <div id="media-description">Figure one shows a flow graphic for matching routes. In the figure, if the level one ultimate route is the best match, then the packet is routed following either the next hop I.P. address or the exit interface. Figure two displays the process if the best match for a packet is a level one parent route.  If a match with a level 2 child route is found, then the packet is routed following either the next hop I.P. address or the exit interface.  Figure three shows the process if no match with a level 2 child route is met, which is to search supernet routes including the default route in the routing table.  If no match is found then the packet is dropped.</div>
    </div>
    <div id="login">Please log into <a href="http://netacad.com">netacad.com</a> before accessing this course.</div>
  </body>
</html>
