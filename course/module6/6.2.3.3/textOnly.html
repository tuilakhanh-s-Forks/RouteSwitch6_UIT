
          <p>A common task of a network administrator is to troubleshoot trunk formation, or ports incorrectly behaving as trunk ports. Sometimes a switch port may behave like a trunk port even if it is not configured as a trunk port. For example, an access port might accept frames from VLANs different from the VLAN to which it is assigned. This is called VLAN leaking.</p>
          <p></p>
          <p>Figure 1 displays a flowchart of general trunk troubleshooting guidelines.</p>
          <p></p>
          <p>To troubleshoot issues when a trunk is not forming or when VLAN leaking is occurring, proceed as follows:</p>
          <p></p>
          <p>
            <b>Step 1</b>. Use the<b> show interfaces trunk</b> command to check whether the local and peer native VLANs match. If the native VLAN does not match on both sides, VLAN leaking occurs. </p>
          <p></p>
          <p>
            <b>Step 2</b>. Use the<b> show interfaces trunk </b>command to check whether a trunk has been established between switches. Statically configure trunk links whenever possible. Cisco Catalyst switch ports use DTP by default and attempt to negotiate a trunk link.</p>
          <p></p>
          <p>To display the status of the trunk, the native VLAN used on that trunk link, and verify trunk establishment, use the<b> show interfaces trunk </b>command. The example in Figure 2 shows that the native VLAN on one side of the trunk link was changed to VLAN 2. If one end of the trunk is configured as native VLAN 99 and the other end is configured as native VLAN 2, a frame sent from VLAN 99 on one side is received on VLAN 2 on the other side. VLAN 99 leaks into the VLAN 2 segment.</p>
          <p></p>
          <p>CDP displays a notification of a native VLAN mismatch on a trunk link with this message:</p>
          <p></p>
          <p>
            <span class="cmd">*Mar  1 06:45:26.232: %CDP-4-NATIVE_VLAN_MISMATCH: Native VLAN mismatch discovered on FastEthernet0/1 (2), with S2 FastEthernet0/1 (99).</span>
          </p>
          <p></p>
          <p>Connectivity issues occur in the network if a native VLAN mismatch exists. Data traffic for VLANs, other than the two native VLANs configured, successfully propagates across the trunk link, but data associated with either of the native VLANs does not successfully propagate across the trunk link. </p>
          <p></p>
          <p>As shown in Figure 2, native VLAN mismatch issues do not keep the trunk from forming. To solve the native VLAN mismatch, configure the native VLAN to be the same VLAN on both sides of the link.</p>
        