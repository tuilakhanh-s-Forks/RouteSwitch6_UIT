<!DOCTYPE html>
<html class="loading" dir="ltr" lang="en"  role="main">
  <head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>6.2.1.3 Assigning Ports to VLANs</title>
    <!-- Content -->
    <link rel="stylesheet" type="text/css" href="../../common-ext/styles/page.css"/>
    <script type="text/javascript" src="../../common-ext/scripts/jquery-2.1.0.min.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/permission.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/page.js"></script>
    <script type="text/javascript" src="media/override.js"></script>
    <script>
      var media_transcript_file = "media_6.2.1.3_longdesc.txt";
    </script>
  </head>
  <body>
    <div id="text-container" role="main">
      <div id="text">
        <h1>Assigning Ports to VLANs</h1>
        <div>
          <p>After creating a VLAN, the next step is to assign ports to the VLAN. </p>
          <p></p>
          <p>Figure 1 displays the syntax for defining a port to be an access port and assigning it to a VLAN. The<b> switchport mode access</b> command is optional, but strongly recommended as a security best practice. With this command, the interface changes to permanent access mode.</p>
          <p></p>
          <p>
            <b>Note</b>: Use the<b> interface range</b> command to simultaneously configure multiple interfaces.  </p>
          <p></p>
          <p>In the example in Figure 2, VLAN 20 is assigned to port F0/18 on switch S1. Any device connected to that port is associated with VLAN 20. Therefore, in our example, PC2 is in VLAN 20. </p>
          <p></p>
          <p>It is important to note that VLANs are configured on the switch port and not on the end device. PC2 is configured with an IPv4 address and subnet mask that is associated with the VLAN, which is configured on the switch port. In this example, it is VLAN 20.  When VLAN 20 is configured on other switches, the network administrator must configure the other student computers to be in the same subnet as PC2 (172.17.20.0/24). </p>
          <p></p>
          <p>An access port can belong to only one VLAN at a time. However, one exception to this rule is that of a port connected to an IP phone and an end device. In this case, there would be two VLANs associated with the port: one for voice and one for data. </p>
          <p></p>
          <p>Consider the topology in Figure 3. In this example, PC5 is connected to the Cisco IP phone, which in turn is connected to the FastEthernet 0/18 interface on S3. To implement this configuration, VLAN 20 and the voice VLAN 150 are created. </p>
          <p></p>
          <p>Use the <b>switchport voice vlan </b><i>vlan-# </i>interface configuration<i></i>command<i></i>to assign a voice VLAN to a port. </p>
          <p></p>
          <p>LANs supporting voice traffic typically also have Quality of Service (QoS) enabled. Voice traffic must be labeled as trusted as soon as it enters the network. Use the <b>mls qos trust</b><b>[cos | device cisco-phone | dscp | ip-precedence]</b> interface configuration command to set the trusted state of an interface, and to indicate which fields of the packet are used to classify traffic.  </p>
          <p></p>
          <p></p>
          <p>The configuration in Figure 4 creates the two VLANs (i.e., VLAN 20 and VLAN 150) and then assigns the F0/18 interface of S3 as a switchport in VLAN 20. It also assigns voice traffic to VLAN 150 and enables QoS classification based on the class of service (CoS) assigned by the IP phone. </p>
          <p></p>
          <p>
            <b>Note:</b> The implementation of QoS is beyond the scope of this course. Refer to cisco.com for more information.</p>
          <p></p>
          <p>Use the Syntax Checker in Figure 5 to assign a data VLAN and voice VLAN. You will also use the<b> show vlan brief </b>command to display the contents of the vlan.dat file. </p>
          <p></p>
          <p>The<b> switchport access vlan </b>command forces the creation of a VLAN if it does not already exist on the switch. For example, VLAN 30 is not present in the<b> show vlan brief </b>output of the switch. If the<b> switchport access vlan 30 </b>command is entered on any interface with no previous configuration, then the switch displays the following:</p>
          <p></p>
          <p>
            <span class="cmd">% Access VLAN does not exist. Creating vlan 30</span>
          </p>
        </div>
      </div>
      <button id="text-handle" title="Resize" role="button"></button>
    </div>
    <div id="media-container" role="complementary">
      <iframe id="media" title="interactive graphic" aria-label="interactive graphic" aria-describedby="media-description"></iframe>
      <div id="media-description">Figure one shows a table with the Cisco i. o. s. commands for configuring a switchport to be in access mode and a member of a specific v. lan. Figure two shows a small lan and the syntax for configuring f. zero slash eighteen to be an access port and a member of v. lan twenty. Figure three is an interactive activity that allows the learner to practice configuring a switchport to be an access port and a member of v. lan twenty.</div>
    </div>
    <div id="login">Please log into <a href="http://netacad.com">netacad.com</a> before accessing this course.</div>
  </body>
</html>
